

echo "üîç Running pre-commit checks..."

# Run lint-staged
pnpm exec lint-staged

# Check for console.log statements in staged files (warn only)
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx)$' || true)
if [ -n "$STAGED_FILES" ]; then
  CONSOLE_LOGS=$(echo "$STAGED_FILES" | xargs grep -l 'console\.log' 2>/dev/null || true)
  if [ -n "$CONSOLE_LOGS" ]; then
    echo "‚ö†Ô∏è  Warning: console.log found in:"
    echo "$CONSOLE_LOGS"
    echo "Consider removing before production."
  fi
fi

echo "‚úÖ Pre-commit checks passed!"
